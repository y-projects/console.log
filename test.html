<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Burn Subtitles Online</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <iframe id="iframe" src="http://localhost:1234" frameBorder="0" width="100%" height="400px"></iframe>
    <script>
        const $iframe = document.getElementById('iframe');

        function send(data) {
            $iframe.contentWindow.postMessage({
                from: 'APP',
                type: 'LOG',
                data: data,
            }, '*');
        }

        const a = {};
        a.b = a;

        window.addEventListener('message', (event) => {
            const { type, from } = event.data;
            if (from === 'CONSOLE' && type === 'INIT') {
                console.log('Console init');
                send({
                    method: 'log',
                    data: [a]
                })
            }
        });
    </script>
</body>

</html>